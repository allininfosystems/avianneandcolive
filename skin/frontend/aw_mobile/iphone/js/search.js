var is_show=false;function activateInput(a){a.focus(function(){$j(this).select();if(!is_show){showSearchForm()}});a.blur(function(){if(is_show){hideSearchForm()}});a.focus();a.keypress()}function setValue(a,c,b){if(b=="search"){$(a.attr("id")).style.top=c+"px"}else{$(a.attr("id")).style.opacity=c}}function transitFor(d,f,c,e,a,h){if(typeof WebKitTransitionEvent=="object"){var b=(f=="search")?"trans-search":"trans-overlay";setValue(d,c,f);$(d.attr("id")).style.display="block";var g=function(i){d.removeClass(b);$(d.attr("id")).style.display=a?"block":"none";if(f=="overlay"&&!a){$j(document).trigger("hideoverlaycomplete")}if(typeof(h)=="function"){h()}};d.addClass(b);d.one("webkitTransitionEnd",g);setValue(d,e,f)}else{setValue(d,e,f);$(d.attr("id")).style.display=a?"block":"none";if(h){h()}}if(f=="search"&&a){activateInput($j("#search"))}}function showSearchForm(b){is_show=true;showSearchBlock();showOverlay();return false}function hideSearchForm(){is_show=false;hideSearchBlock();hideOverlay();return false}function showOverlay(b,a){if(a){$j("div.cart-loader").show()}else{$j("div.cart-loader").hide()}$("topSearchOverlay").style.height=+($j("body").height())+"px";transitFor($j("#topSearchOverlay"),"overlay",0,0.5,true,b)}function hideOverlay(b,a){if(a){$j("div.cart-loader").hide()}else{$j("div.cart-loader").hide()}transitFor($j("#topSearchOverlay"),"overlay",0.5,0,false,b)}function showSearchBlock(){transitFor($j("#topSearch"),"search",-42,0,true)}function hideSearchBlock(){transitFor($j("#topSearch"),"search",0,-42,false)}$j(document).ready(function(a){$j("#search_mini_form").submit(function(b){hideSearchForm()})});;
